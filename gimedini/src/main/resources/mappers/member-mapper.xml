<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="web.shop.mall.memberMapper">

<!-- 회원 가입 -->
<insert id="signup">
 insert into tbl_member(userId, userPass, userName, userPhon)
  values(#{userId}, #{userPass}, #{userName}, #{userPhon}) 
</insert>

<!-- 로그인 -->

<select id="signin" resultType="web.shop.mall.domain.MemberVO">
 select
     userId, userName, userPass, userPhon, userAddr1, userAddr2, userAddr3, regDate, verify
 from
     tbl_member
 where userId = #{userId}
</select>

<!-- 아이디 확인 -->
<select id="idCheck" resultType="web.shop.mall.domain.MemberVO">
 select userId from tbl_member where userId = #{userId}
</select>

<!-- 닉네임 -->
<select id="nameCheck" resultType="web.shop.mall.domain.MemberVO">
 select userName from tbl_member where userName = #{userName}
</select>

<!-- 회원정보 수정 --> 
<update id="modify">
 update tbl_member set userPass = #{userPass}, userPhon = #{userPhon} 
 where userName = #{userName}  
</update>

<!-- 회원 탈퇴 -->
<delete id="withdrawal">
 delete from tbl_member
 where userId = #{userId} and userPass = #{userPass}
</delete>

<select id="passChk" resultType="int">
select count(*) from tbl_member
where userId = #{userId} and userPass = #{userPass}
</select>

</mapper>